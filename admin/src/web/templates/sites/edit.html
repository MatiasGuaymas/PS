{% extends "layout.html" %}

{% block content %}
<h2>Editar Sitio Histórico</h2>
<form method="POST">
  <div class="mb-3">
    <label for="site_name" class="form-label">Nombre del sitio</label>
    <input type="text" class="form-control" id="site_name" name="site_name" value="{{ site.site_name }}" required>
  </div>
  <div class="mb-3">
    <label for="short_desc" class="form-label">Descripción breve</label>
    <input type="text" class="form-control" id="short_desc" name="short_desc" value="{{ site.short_desc }}" required>
  </div>
  <div class="mb-3">
    <label for="full_desc" class="form-label">Descripción completa</label>
    <textarea class="form-control" id="full_desc" name="full_desc" required>{{ site.full_desc }}</textarea>
  </div>
  <div class="mb-3">
    <label for="city" class="form-label">Ciudad</label>
    <input type="text" class="form-control" id="city" name="city" value="{{ site.city }}" required>
  </div>
  <div class="mb-3">
    <label for="province" class="form-label">Provincia</label>
    <input type="text" class="form-control" id="province" name="province" value="{{ site.province }}" required>
  </div>
  <div class="mb-3">
    <label for="latitude" class="form-label">Latitud</label>
    <input type="text" class="form-control" id="latitude" name="latitude" value="{{ site.latitude }}" required>
  </div>
  <div class="mb-3">
    <label for="longitude" class="form-label">Longitud</label>
    <input type="text" class="form-control" id="longitude" name="longitude" value="{{ site.longitude }}" required>
  </div>
  <div class="mb-3">
    <label for="state_id" class="form-label">Estado de conservación</label>
    <select class="form-control" id="state_id" name="state_id" required>
      <option value="">Seleccionar...</option>
      <option value="1" {% if site.state_id == 1 %}selected{% endif %}>Bueno</option>
      <option value="2" {% if site.state_id == 2 %}selected{% endif %}>Regular</option>
      <option value="3" {% if site.state_id == 3 %}selected{% endif %}>Malo</option>
    </select>
  </div>
  <div class="mb-3">
    <label for="operning_year" class="form-label">Año de inauguración</label>
    <input type="number" class="form-control" id="operning_year" name="operning_year" value="{{ site.operning_year }}" required>
  </div>
  <div class="mb-3">
    <label for="category_id" class="form-label">Categoría</label>
    <select class="form-control" id="category_id" name="category_id" required>
      <option value="">Seleccionar...</option>
      <option value="1" {% if site.category_id == 1 %}selected{% endif %}>Arquitectura</option>
      <option value="2" {% if site.category_id == 2 %}selected{% endif %}>Infraestructura</option>
      <option value="3" {% if site.category_id == 3 %}selected{% endif %}>Sitio arqueológico</option>
      <!-- cambiar para que se pueda agregar algun -->
    </select>
  </div>
  <div class="mb-3">
    <label for="active" class="form-label">¿Visible en el portal?</label>
    <div class="mb-3">
      <label for="category" class="form-label">Categoría</label>
      <input type="text" class="form-control" id="category" name="category" value="{{ site.category }}" required>
    </div>
  </div>
  <div class="mb-3">
    <label for="tags" class="form-label">Etiquetas</label>
    <select class="form-control" id="tags" name="tags" multiple>
      {% for tag in tags %}
        <option value="{{ tag.id }}"
          {% if selected_tag_ids is defined and tag.id in selected_tag_ids %}selected{% endif %}>
          {{ tag.name }}
        </option>
      {% endfor %}
    </select>
  </div>
  <button type="submit" class="btn btn-primary">Guardar cambios</button>
</form>
{% endblock %}